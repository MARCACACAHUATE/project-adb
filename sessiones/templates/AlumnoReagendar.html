{% extends 'base.html' %}

{% block main %}
{% load static %}

<body class="fondoinicio">
  <header>
    <!-- Main navigation container -->
    <nav
      class="flex-no-wrap relative flex w-full items-center justify-between bg-[#1ab26b] py-4 shadow-md lg:flex-wrap lg:justify-start lg:py-4">
      <div class="flex w-full flex-wrap items-center justify-between px-3">
        <!-- Logo -->
        <a class="mb-4 ml-2 mr-5 flex items-center font-bold text-white sm:text-titulo-xl lg:mb-0 lg:mt-0"
          href="index.html">
          <img src="img/Huella.png" class="h-12 w-13" /> labs
        </a>

        <!-- Right elements -->
        <div class="relative flex items-center">
          <!-- Dropdown container -->
          <div class="relative" data-te-dropdown-ref data-te-dropdown-alignment="end">
            <a class="hidden-arrow flex items-center whitespace-nowrap transition duration-150 ease-in-out motion-reduce:transition-none"
              href="#" id="dropdownMenuButton2" role="button" data-te-dropdown-toggle-ref aria-expanded="false">
              <img src="img/campana.png" class="w-6 h-6 mr-2" />
              <!-- User avatar -->
              <img src="img/Logo.png" class="rounded-full w-14 h-14" alt="" loading="lazy" />
            </a>
          </div>
        </div>
      </div>
    </nav>
  </header>
  <h1 class="text-gray-700 font-bold text-titulo-min-xl sm:mt-32 sm:text-titulo-xl text-center">
    Cambiar Cita de Laboratorio
  </h1>
  <form method="post" action="" class="bg-white mx-7 mt-2 rounded-lg p-6 sm:w-96 sm:mx-auto">
    {% csrf_token %}
    <label for="materia">Materia</label>
    <select class="flex left-0 border border-gray-300 w-full px-3 py-2 rounded-md bg-gray-100" name="" id="materia">
      <option value="0">Seleccionar...</option>
      <option value="1">Laboratorio de Robótica</option>
    </select>
    <label for="fecha">Seleccionar Día</label>
    <input class="flex left-0 border border-gray-300 w-full px-3 py-2 rounded-md bg-gray-100" type="date" name="fecha"
      id="fecha" />
    <label for="horario">Horario Disponible</label>
    <select class="flex left-0 border border-gray-300 w-full px-3 py-2 rounded-md bg-gray-100" name="practica_id"
      id="id_practica_id">
      <option value="">Selecciona el horario</option>
      {% for practica in practicas %}
      <option value="{{ practica.id }}">{{ practica.titulo }} - {{ practica.fecha_inicio }}</option>
      {% endfor %}
    </select>
    <button open-modal-dialog
      class="bg-verde w-full py-2 text-white rounded-full cursor-pointer hover:bg-green-300 mt-4 sm:mt-14">
      Agendar
    </button>

    <dialog modal>
      <div class="modal-content bg-verde p-4 shadow-lg rounded-lg">
        <h2 class="text-xl text-white font-semibold mb-4">Confrimación de reserva</h2>
        <p>Su practica a quedado agendada para el día.</p>
        <button id="closeModal"
          class="mt-4 bg-gray-300 hover:bg-gray-400 text-gray-700 font-semibold py-2 px-4 rounded">Cerrar</button>
      </div>
    </dialog>

    <script>
      const openModalButton = document.querySelector("[open-modal-dialog]");
      const closeModalButton = document.querySelector("[closeModal]");
      const modal = document.querySelector("[modal]");

      openModalButton.addEventListener('click', () => {
        modal.showModal();
      });

      closeModalButton.addEventListener('click', () => {
        modal.close();
      });
    </script>

  </form>
  <!--Pie de pagina CAMBIO-->
  <footer class="center py-0">
    <img src="img/VLFIME.png" class="w-25 h-14 absolute bottom-2 right-2" />
  </footer>
</body>


{% endblock %}